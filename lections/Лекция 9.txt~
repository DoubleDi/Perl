Асинхронные события

CONFIG_HZ_100 - не больше 100 переключений процессов

системный вызов ввода вывода == много много команд

главный блокер - переключение контекста # дорого и долго

IO неблокирующее(статусы)
success
temporary error
error

#проверка о готовности к сокетам
select ($readable, $writable, $errors, $timeout);
вернет последовательности готовых сокетов
vec - проставляет бит в строке
Круче == IO::Select;

O_NONBLOCK - делать неблокирующий сокет
EAGAIN - попробуй еще раз
EINTR - оборвано прерыванием
EWOULDBLOCK - бы заблокировался

Замыкания
видны переменные извне

Время - одно и то же чтобы было. Нужно хранить локальное время...

Guard часто спрашивают на собеседованиях
guard - вызывает callback при undef $guard;
AE::io возвращает guard

my $w; обьявление; в обьявлении нельзя замыкать


Anyevent - это универсальный libev 

Домашка обкачка сайта одного
только в 4 потока обкачиваем
собрать ссылки, скачать их 

на вход ссылка
скачиваем ссылку HTTP
берем контент через web query и ищет ссылки
Помещает ссылки в массив и скачивает и получает размер их
и тд по всем страницам
hash по уникальным ссылкам
3 состояния еще не скачалось, качается, уже скачалось
                             undef 0 $size;
и выводим топ 10 по размерам

Понятие задания с очередью.
Очередь разгребать в параллельную штуку


